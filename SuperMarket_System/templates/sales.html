{% extends 'base.html' %}

{% block BASE_HTML %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Sale Records</h1>
    <div class="btn-toolbar mb-2 mb-md-0"></div>
</div>
{% if ERROR == True %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>Invalid Inputs</strong> Please check input fields carefully when entering data
    </div>
{% endif %}
    <form action ="/sales/" method = "post">
        {% csrf_token %}
        <div class="form-group">
          <label for="sale_id">Sale ID</label>
          <input type="number" class="form-control" id="sale_id" name="sale_id" placeholder = "Serial No." required>
        </div><br>
        <div class="form-group">
          <label for="sale_date">Sale Date</label>
          <input type="text" class="form-control" id="sale_date" name="sale_date" placeholder="YYYY-MM-DD" required>
        </div><br>
        <div class="form-group">
          <label for="customer_id">Customer ID</label>
          <input type="number" class="form-control" id="customer_id" name="customer_id"  value = "Serial No." required>
        </div><br>
        <div class="form-group">
          <label for="employee_id">Employee ID</label>
          <input type="number" class="form-control" id="employee_id" name="employee_id" value ="Serial No.">
        </div><br>
        <div class="form-group">
          <label for="product_id">Product ID</label>
          <input type="number" class="form-control" id="product_id" name="product_id"  value = "Serial No." required>
        </div><br>
        <div class="form-group">
          <label for="quantity_sold"> Quantity Sold</label>
          <input type="number" class="form-control" id="quantity_sold" name="quantity_sold" value ="Serial No." required>
        </div><br>
        <button type="submit" class="btn btn-danger mb-2" name = "commit_change"> Record Sale </button>
        <button type="submit" class="btn btn-primary mb-2" name = "add_another_product"> Add More Products </button>
    </form>


<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Sale Records in Database</h1>
    <div class="btn-toolbar mb-2 mb-md-0"></div>
</div>

<div class="table-responsive">
        <table class="table table-striped table-sm">
          <thead>
            <tr>
              <th scope="col">Sale ID #</th>
              <th scope="col">Customer Name</th>
              <th scope="col">Employee Name</th>
              <th scope="col">Sale Date</th>
              <th scope="col">Product Name</th>
                <th scope="col">Quantity Sold</th>
                <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            {% for SaleRecord in SaleRecord%}
            <tr>
              <td>{{SaleRecord.0}}</td>
              <td>{{SaleRecord.1}}</td>
              <td>{{SaleRecord.2}}</td>
              <td>{{SaleRecord.3}}</td>
                <td>{{SaleRecord.4}}</td>
                <td>{{SaleRecord.5}}</td>
                <td><a href="/sales/delete_sale/{{SaleRecord.6}}/{{SaleRecord.0}}" class="btn btn-danger md-sm"> Delete </a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
</div>
{% endblock %}